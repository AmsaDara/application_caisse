{"version":3,"sources":["classes/Caisse.ts","classes/SoldeView.ts","classes/Transaction.ts","classes/TransactionList.ts","app.ts"],"names":[],"mappings":";;;;;;AIAA,IAAA,QAAA,GAAA,OAAA,CAAA,kBAAA,CAAA;AJKA,ACFA,ACHA,ACGA,IHEA,ACFA,ACHA,ACGA,MHEA,GCFA,ECHA,ICGA;ACFA,AJIA,ACFA,ACHA,ACGA,ICFA,WAAA,GAAA,OAAA,CAAA,qBAAA,CAAA;AJIA,ACFA,ACHA,ACGA,YHEA,ACFA,ACHA,ACGA;ACDA,AJSI,ACJA,ACDA,ACAA,ICJJ,OJSI,ACJA,ACDA,ACAA,MCJJ,AJSI,CAAY,EIThB,AHKI,ECDA,CDCA,ACAI,CFIJ,EAAyB,AGLzB,CCJJ,CAAA,AFII,CCAA,CDEI,OAFJ,EAGI,OAHJ,EAII,GERR,CAAA,IFII,EAIqB;AFHb,ACCJ,ACIA,ACLA,SHAI,ACCC,ACIA,ACLA,IDKL,GAAY,ICLZ,CHAI,AEKJ,CDJA,CEDmB,CHAQ,CCCN,CDDjB,KGAuB,CAAC,CFCC,CAAC,WEDX,CAAuB,CFCrB,CAAuB,aAAvB,CAArB,GEDmB,CAAnB;ACJR,AJMY,ACAP,ACIG,ACLH,ICLL,KJMY,AEIC,MAAL,GFJI,AEIU,GEVtB,AJMsC,EAA1B,CINZ,CFUQ,MEVR,CAAA,2BAAA,CAAA;AJSQ,AEEA,SFFK,AEEA,KFFL,CEEA,EFFa,CEEC,KFFd,EEEA;AETR,AJQK,ACDD,ACGI,ACNJ,EFGA,AEHA,ECJA,KFUS,CEVH,CHON,CAAA,CGPS,GFUL,CEVS,ADIb,CAAA,CDMmB,EDHnB,CAAA,GGPa,CAAA,CFUT,ACNJ,CAAA,ICJS,CAAW,IHOpB,CGPS,CAAb,CHOI,GEHA,GAAA,IFGgB,MAAhB,AEHgB,EFGc,IEH9B,EAA8B;ACFlC,AHMQ,ACGH,ACLG,ICJJ,AHMI,KEFK,EFEE,CAAC,CGNH,EHML,CGNQ,AHMI,IGNA,ADIZ,CAAiB,SAAjB,CCJY,CAAA,CDIgB,EAA5B,MCJQ,EAAhB,kBHMoB,MAAA,CAA0C,MAAM,CAAC,QAAP,EAA1C,CAAZ;AGLR,AJMI,ACCI,EDDJ,IINE,CAAC,CJMH,CAAA,ACCS,SDDT,CAAA,GCCI,CAAmB,CGP3B,CAAyB,OHOjB,EGPR,CHOuC,CDDnC,GAAA,ECCyC,CAAC,ODDxB,CCCiB,EDDnC,CCCqD,CDDrB,OCCG,EAA/B;AGLR,AJKQ,ACCH,ACED,ACNI,EDMJ,CDNA,CGFA,KJKS,AGHY,IDMrB,ACNqB,CDMrB,CCNqB,GHGjB,AGHiB,CHGF,AGHE,EAAA,ECFF,AJKf,AEGJ,ACNqB,CHGG,AEGxB,EERsB,ADED,CHGjB,GILsB,CFQ1B,CCN2B,CAAC,CDM5B,YAAA,CER0B,CAAA,ADEL,EAAjB,EAAiB,EAAA,GAAA,EAAA,CAAA,GCFC,EAA1B,CDEQ,EAAiB,EAAA,EAAjB,EAA0C;ACDlD,AJKQ,AEGA,ACPK,IHIL,EILF,CAAC,AJKI,CAAC,EGJO,CDOJ,CCPM,GAAA,CDOD,CCPC,CAAA,EDOb,ACPa,CAAR,EHIL,CILR,AJK4B,CILH,GJKjB,gBILR;AAEA,AJIK,ACAL,ACGK,ACPO,GHCR,AEIA,CELE,KHIN,CEJgB,EAAE,GAAG,GFIrB,CGJqB,GAAG,CDAK,CAAC,MCAE,CAAC,MDAZ,CAAuB,IAAvB,CAAT,CCAY,CAAuB,mBAAvB,CAAxB;AAEA,AHZA,AEWY,CFXZ,EAAA,GEWY,EAAE,CAAC,MCCA,CAAC,EDDJ,GAAe,EAAE,CAAC,OAAH,CCC3B,CAAiC,ADDrB,QCCZ,EAA2C,UAAC,CAAD,EAAU;AACjD,AJEA,AEIA,ACPQ,ECCR,AJEA,AEIA,CENC,CAAC,IJEF,CAAA,CGHY,GDOZ,CAAA,CCPiB,GCCjB,AJEA,AGHoB,CHGpB,IEIA,CAAA,ECP4B,CAAC,MDO7B,GAAA,EFJA,EGHoB,CHGpB,AGH2C,IAAvB,CAAZ,EDOR,GFJoB,GAApB,EAAkC;AIDlC,AJEI,AChBK,ACoBL,ACPI,MCCF,CHdG,CDgBD,AChBC,EGcC,ADDE,CHGD,AEIA,EENE,CJEC,EEIE,CDpBP,EDgBU,CChBV,CGcY,ADDE,CCCD,AFMlB,ECPsB,IHGZ,CAAe,AChBpB,GEayB,CAAC,ECCtB,CAAuB,AJEtB,CAAuB,GAAvB,CAAV,EIFS,CAAb,EDD0B,CAAuB,GAAvB,CAAlB;ACER,AFMC,ACPO,GDKR,GEJM,ADDE,KAAK,CCCD,ADDE,GCCC,MDDP,ECCe,CAAC,ADDG,EAAE,CAAC,OAAH,GCCZ,CAAuB,GDDM,MCC7B,CAAf,CDD0B,GAA4B,QAA5B,GAAqC,OAAvD;ACER,AJCI,AGFI,MCCF,ADDE,EHEA,GAAG,AGFE,CCCD,ADDE,GCCC,CJCC,CAAC,CAAb,EAAe,CGFX,ECCe,CAAC,ADDG,EAAE,CAAC,OAAH,EAAnB,CCCO,CAAuB,SAAvB,CAAf;AACA,AJCQ,AEKR,ACPQ,EDOR,IENM,ADDE,KHEK,EIDA,AFMb,CAAA,EENgB,CDDG,CAAC,EHEZ,CAAe,EEKvB,CENwB,AFMxB,CENyB,EJCjB,AGFA,CHEsB,EGFE,CHExB,CGF0B,CHEC,AEKnC,ACPmC,CHE3B,EEKR,EENgB,CAAuB,MAAvB,CAAhB,EFMA,ACPgC,EAAxB;ACER,AJCK,AEKD,ACPI,MCCF,ADDE,EAAE,CAAC,EDOA,ICPH,CDOQ,ACPE,ICCE,CDDZ,CDOJ,CENmB,IAAI,aAAA,CAAA,WAAJ,CACnB,IAAI,CAAC,KADc,EAEnB,MAAM,CAAC,aAFY,EAGnB,MAAM,CAAC,KAHY,EAInB,OAAO,CAAC,KAJW,CAAvB;AAOA,AJLC,AEKA,ACPO,ECOR,CJVA,AEQA,GCLQ,ECOF,ADPI,CCOH,ADPI,MAAH,CAAU,OCOlB,CAAsB,GDPd,WCOR;AAEH,ADRW,CCPZ,GA8BA,ODvBiB,WAAL,CAAiB,MAAjB,CAAwB,EAAxB;ACyBZ,AJvBI,AEMA,ACPK,EHCL,AEMA,MFNA,CAAA,IEMA,CAAA,IFNA,CAAA,IEMA,CAAA,UFNA,AEMA,GFNA,AEMA,YFNA,AEMA;AEkBJ,AJvBQ,AEMA,ACNH,GAhBD,MHgByB,EEMd,EFNc,EAAA,CEMT,EFNS,CAAA,EAAA,EAAA,AEMrB,GFNqB,KAAK,SAA1B,EAAqB,EAAA,GAAA,EAAA,CAAA,MAArB,EAAqB,EAAA,EAArB,EAAoC;AIwB5C,AJxBY,AEOP,GAFD,OFLc,OAAO,GAAA,EAAA,CAAA,EAAA,CAAb;AIyBZ,AJxBY,AGCZ,MHDY,GGCZ,IHDmB,CAAC,UGCpB,KHDY,CAAwB,IAAxB;AIyBZ,AJxBS,AEOL,AC/BJ,CAAA,CD+BI,CC/BJ,UD+BI,CAAA,SAAA,CAAA,eAAA,GAAA,YAAA;AEoBJ,AJ1BK,AEOG,GFXJ,QEWW,GAAA,MAAA,CAAG,KAAK,MAAR,EAAc,UAAd,EAAc,MAAd,CAA0B,KAAK,IAAL,KAAc,QAAf,GAAyB,SAAzB,GAAmC,SAA5D,EAAqE,OAArE,EAAqE,MAArE,CAA6E,KAAK,OAAlF,EAAyF,cAAzF,EAAyF,MAAzF,CAAqG,KAAK,MAA1G,CAAP;AEoBR,AFnBK,ACjCQ,GD+BT,IC/BS,CAAA,eAAA,GAAA,eAAA;ACsDb,AJ5BW,EAAA,MAAA,CAAA,SAAA,CAAA,QAAA,GAAP,YAAA;AI6BJ,AJ5BQ,AEOR,SAAA,EFPe,KAAK,IEOpB,CFPQ;AI8BR,AJ7BK,AE/BL,CAAA,EF6BW,AE7BX;AE6DA;AACA,AJ9BW,AEhCE,EFgCF,KEhCE,CFgCF,AEhCE,CFgCF,SAAA,CAAA,AEhCE,GAAA,WAAA,CFgCF,GAAP,YAAA;AACI,WAAO,KAAK,YAAZ;AACH,GAFM;;AAGA,EAAA,MAAA,CAAA,SAAA,CAAA,cAAA,GAAP,UAAsB,EAAtB,EAAoC;AAChC,SAAK,YAAL,CAAkB,IAAlB,CAAuB,EAAvB;;AACA,QAAI,EAAE,CAAC,OAAH,OAAiB,QAArB,EAA+B;AAC3B,WAAK,KAAL,IAAc,EAAE,CAAC,SAAH,EAAd;AACH,KAFD,MAEO;AACH,WAAK,KAAL,IAAc,EAAE,CAAC,SAAH,EAAd;AACH;;AACD,SAAK,eAAL;AACH,GARM;;AASX,SAAA,MAAA;AAvCA,CAAA,EAAA;;AAAa,OAAA,CAAA,MAAA,GAAA,MAAA","file":"app.c61986b1.js","sourceRoot":"..\\src","sourcesContent":["import { IObserver } from \"../interfaces/IObserver\";\r\nimport { ISubject } from \"../interfaces/ISubject\";\r\nimport { Transaction } from \"./Transaction\";\r\n\r\n\r\nexport class Caisse implements ISubject{\r\n    private solde : number;\r\n    private transactions : any[] = [];\r\n    \r\n    private observers : IObserver[] = [];\r\n    \r\n    constructor(_solde:number){\r\n        this.solde = _solde;\r\n    }\r\n    subscribeObserver(obs: IObserver): void {\r\n        this.observers.push(obs)\r\n        obs.getNotification(this)\r\n    }\r\n    unsubscribeObserver(obs: IObserver): void {\r\n        let idx = this.observers.indexOf(obs);\r\n        if (idx !== -1){\r\n            this.observers.splice(idx, 1);\r\n        }\r\n    }\r\n    notifyObservers(): void {\r\n        for(const element of this.observers){\r\n            element.getNotification(this)\r\n        }\r\n    }\r\n    public getSolde(){\r\n        return this.solde\r\n    }\r\n    public getTransactions(){\r\n        return this.transactions\r\n    }\r\n    public addTransaction(tr:Transaction){\r\n        this.transactions.push(tr)\r\n        if (tr.getType() === 'credit') {\r\n            this.solde += tr.getAmount()\r\n        } else {\r\n            this.solde -= tr.getAmount()\r\n        }\r\n        this.notifyObservers()\r\n    }\r\n}","import { IObserver } from \"../interfaces/IObserver\";\r\nimport { Caisse } from \"./Caisse\";\r\n\r\nexport class SoldeView implements IObserver{\r\n    \r\n    private htmlSoldeView : HTMLHeadingElement\r\n    \r\n    constructor(){\r\n        this.htmlSoldeView = document.querySelector('#solde-view')\r\n    }\r\n    \r\n        \r\n    getNotification(caisse: Caisse): void {\r\n        console.log(`SoldeView notifié par le nouveau solde ${caisse.getSolde()}`);\r\n        \r\n        this.htmlSoldeView.innerText = caisse.getSolde().toString()\r\n    }\r\n}","export class Transaction {\r\n    private type : string\r\n    private amount : number\r\n    private reason : string\r\n    private byWhome :string\r\n    \r\n    constructor(\r\n        _type : string,\r\n        _amount : number,\r\n        _reason : string,\r\n        _byWhome : string,\r\n    ){\r\n        this.type = _type\r\n        this.amount = _amount\r\n        this.reason = _reason\r\n        this.byWhome = _byWhome\r\n    }\r\n    \r\n    getType(){\r\n        return this.type\r\n    }\r\n      \r\n    getAmount(){\r\n        return this.amount\r\n    }\r\n      \r\n    getReason(){\r\n        return this.reason\r\n    }\r\n      \r\n    getByWhome(){\r\n        return this.byWhome\r\n    }\r\n    \r\n    transactionText (){\r\n        return `${this.amount} dinars ${(this.type === 'credit')?'déposés':'retirés'} par ${this.byWhome} suite à ${this.reason}`\r\n    }\r\n}","import { IObserver } from \"../interfaces/IObserver\";\r\nimport { Caisse } from \"./Caisse\";\r\n\r\nexport class TransactionList implements IObserver{\r\n    \r\n    private ulContainer : HTMLUListElement\r\n    constructor(){\r\n        this.ulContainer = document.querySelector('#transaction-list')!\r\n    }\r\n    getNotification(caisse: Caisse): void {\r\n        \r\n        this.ulContainer.innerHTML= \"\"\r\n        for (const tr of caisse.getTransactions()){\r\n            let li = document.createElement(\"li\")\r\n            li.className = tr.getType()\r\n            let title = document.createElement(\"h4\")\r\n            let description = document.createElement(\"p\")\r\n            title.innerText = (tr.getType() === 'credit')?'Crédit':'Débit'\r\n            title.className =  tr.getType()\r\n            description.innerText = tr.transactionText()\r\n            li.append(title)\r\n            li.append(description)\r\n            this.ulContainer.append(li)\r\n        }\r\n        \r\n    }\r\n    \r\n}","import { Caisse } from \"./classes/Caisse\";\r\nimport { SoldeView } from \"./classes/SoldeView\";\r\nimport { Transaction } from \"./classes/Transaction\";\r\nimport { TransactionList } from \"./classes/TransactionList\";\r\n\r\nlet caisse = new Caisse(10000);\r\n\r\nlet soldeView = new SoldeView();\r\ncaisse.subscribeObserver(soldeView)\r\n\r\nlet TransactionListView = new TransactionList();\r\ncaisse.subscribeObserver(TransactionListView)\r\n\r\nconst transactionForm = document.querySelector('#transaction-form')! as HTMLFormElement\r\n\r\ntransactionForm.addEventListener(\"submit\", (e : Event) => {\r\n    e.preventDefault();\r\n    const type = document.querySelector(\"#type\") as HTMLSelectElement\r\n    const amount = document.querySelector(\"#amount\") as HTMLInputElement\r\n    const reason = document.querySelector(\"#reason\") as HTMLInputElement\r\n    const byWhome = document.querySelector(\"#who\") as HTMLInputElement\r\n    const uneTransaction = new Transaction(\r\n        type.value,\r\n        amount.valueAsNumber,\r\n        reason.value,\r\n        byWhome.value\r\n    )\r\n    \r\n    caisse.addTransaction(uneTransaction)\r\n    \r\n})\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// const from = document.querySelector(\".transaction-form\") as HTMLFormElement;\r\n\r\n// //inputs\r\n// const type = document.querySelector(\"#type\") as HTMLInputElement;\r\n// const who = document.querySelector(\"#who\") as HTMLInputElement;\r\n// const reason = document.querySelector(\"#reason\") as HTMLInputElement;\r\n// const amount = document.querySelector(\"#amount\") as HTMLInputElement;\r\n\r\n\r\n// // list template instance\r\n// const ul = document.querySelector(\"ul\")!;\r\n\r\n// from.addEventListener(\"submit\", (e: Event) => {\r\n//     e.preventDefault();\r\n    \r\n//     const li = document.createElement(\"li\");\r\n//     li.className\r\n// }) \r\n\r\n"]}